<html>
    <head>
        <meta charset="UTF-8">
        <title></title>
    </head>
    <body>
        <?php
            echo "<h2>Index Array</h2>";
            $emp_name = array('Hritvi','Krati','Sanket');
            $emp_salary = array(8000000,2500000,1000000);
            echo "<h4>Employee Names:</h4>";
            print_r($emp_name);
            echo "<h4>Employee Salaries:</h4>";
            print_r($emp_salary);
        ?>
    </body>
</html>

Question 2:

<?php
    echo "<h2>Associative Array</h2>";
    echo "<h4>Employee Details:</h4>";
    $emp = array('Hritvi'=>8000000,'Krati'=>5308950,'Sanket'=>1000000,'Janvi'=>7095400,
                'Dhyani'=>2058900,);
    $cnt = count($emp);
    $key = array_keys($emp);
    $value = array_values($emp);
    for($i=0;$i<$cnt;$i++)
    {
        if($i>=3)
        {
            die();
        }
        //echo "$emp";
        echo $key[$i]."==>".$value[$i]."</br>";
        echo "\n";
        
    }
?>

Question 3:

<?php
    echo "<h2>Multidimensional Array</h2>";
    echo "<h4>Employee Details:</h4>";
    $emp = array (array('Hritvi',10000000,'hritvigajiwala@icloud.com',9473467337),
           array('Krati',16637300,'kratis@gmail.com',8657774707),
           array('Sanket',6470000,'sanketbr@yahoo.com',7989467337));

    $cnt = count($emp);
    $key = array_keys($emp);
  //  $value = array_values($emp);
    for($i=0;$i<$cnt;$i++)
    {
       
        echo $key[$i][1]."</br>";
        //echo "hello";
        
    }
    echo sizeof($emp)."</br>";
     for($i=0;$i<$cnt;$i++)
        {
            //echo $key[$i]."</br>";
           foreach($emp[$key[$i]] as $key[$i] => $value)
           {
               echo $key[$i]." : ".$value."</br>";
           }
            //echo "hello";
           echo "</br>";

        }
    
?>





body {font-family:Arial, Sans-Serif;}
.clearfix:before, .clearfix:after { content: ""; display: table; }
.clearfix:after { clear: both; }
a {color:#0067ab; text-decoration:none;}
a:hover {text-decoration:underline;}
.form{width: 300px; margin: 0 auto;}
input[type='text'], input[type='email'], input[type='password'] {width: 200px; border-radius: 2px;border: 1px solid #CCC; padding: 10px; color: #333; font-size: 14px; margin-top: 10px;}
input[type='submit']{padding: 10px 25px 8px; color: #fff; background-color: #0067ab; text-shadow: rgba(0,0,0,0.24) 0 1px 0; font-size: 16px; box-shadow: rgba(255,255,255,0.24) 0 2px 0 0 inset,#fff 0 1px 0 0; border: 1px solid #0164a5; border-radius: 2px; margin-top: 10px; cursor:pointer;}
input[type='submit']:hover {background-color: #024978;}


auth.php

<?php
session_start();
if(!isset($_SESSION["username"])){
header("Location: login.php");
exit(); }
?>


dashboard.php

require('db.php');
include("auth.php"); //include auth.php file on all secure pages ?>
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Dashboard - Secured Page</title>
<link rel="stylesheet" href="css/style.css" />
</head>
<body>
<div class="form">
<p>Dashboard</p>
<p>This is another secured page.</p>
<p><a href="index.php">Home</a></p>
<a href="logout.php">Logout</a>


<br /><br /><br /><br />
<a href="http://www.allphptricks.com/simple-user-registration-login-script-in-php-and-mysqli/">Tutorial Link</a> <br /><br />
For More Web Development Tutorials Visit: <a href="http://www.allphptricks.com/">AllPHPTricks.com</a>
</div>
</body>
</html>


db.php


$con = mysqli_connect("localhost","root","","register");
// Check connection
if (mysqli_connect_errno())
  {
  echo "Failed to connect to MySQL: " . mysqli_connect_error();
  }
?>


index.php



include("auth.php"); //include auth.php file on all secure pages ?>
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Welcome Home</title>
<link rel="stylesheet" href="css/style.css" />
</head>
<body>
<div class="form">
<p>Welcome <?php echo $_SESSION['username']; ?>!</p>
<p>This is secure area.</p>
<p><a href="dashboard.php">Dashboard</a></p>
<a href="logout.php">Logout</a>


<br /><br /><br /><br />
<a href="http://www.allphptricks.com/simple-user-registration-login-script-in-php-and-mysqli/">Tutorial Link</a> <br /><br />
For More Web Development Tutorials Visit: <a href="http://www.allphptricks.com/">AllPHPTricks.com</a>
</div>
</body>
</html>


login.php


<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Login</title>
<link rel="stylesheet" href="css/style.css" />
</head>
<body>
<?php
	require('db.php');
	session_start();
    // If form submitted, insert values into the database.
    if (isset($_POST['username'])){
		
		$username = stripslashes($_REQUEST['username']); // removes backslashes
		$username = mysqli_real_escape_string($con,$username); //escapes special characters in a string
		$password = stripslashes($_REQUEST['password']);
		$password = mysqli_real_escape_string($con,$password);
		
	//Checking is user existing in the database or not
        $query = "SELECT * FROM `users` WHERE username='$username' and password='".md5($password)."'";
		$result = mysqli_query($con,$query) or die(mysql_error());
		$rows = mysqli_num_rows($result);
        if($rows==1){
			$_SESSION['username'] = $username;
			header("Location: index.php"); // Redirect user to index.php
            }else{
				echo "<div class='form'><h3>Username/password is incorrect.</h3><br/>Click here to <a href='login.php'>Login</a></div>";
				}
    }else{
?>
<div class="form">
<h1>Log In</h1>
<form action="" method="post" name="login">
<input type="text" name="username" placeholder="Username" required />
<input type="password" name="password" placeholder="Password" required />
<input name="submit" type="submit" value="Login" />
</form>
<p>Not registered yet? <a href='registration.php'>Register Here</a></p>

<br /><br />
<a href="http://www.allphptricks.com/simple-user-registration-login-script-in-php-and-mysqli/">Tutorial Link</a> <br /><br />
For More Web Development Tutorials Visit: <a href="http://www.allphptricks.com/">AllPHPTricks.com</a>
</div>
<?php } ?>


</body>
</html>



logout.php


session_start();
if(session_destroy()) // Destroying All Sessions
{
header("Location: login.php"); // Redirecting To Home Page
}
?>


registration.php

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Registration</title>
<link rel="stylesheet" href="css/style.css" />
</head>
<body>
<?php
	require('db.php');
    // If form submitted, insert values into the database.
    if (isset($_REQUEST['username'])){
		$username = stripslashes($_REQUEST['username']); // removes backslashes
		$username = mysqli_real_escape_string($con,$username); //escapes special characters in a string
		$email = stripslashes($_REQUEST['email']);
		$email = mysqli_real_escape_string($con,$email);
		$password = stripslashes($_REQUEST['password']);
		$password = mysqli_real_escape_string($con,$password);

		$trn_date = date("Y-m-d H:i:s");
        $query = "INSERT into `users` (username, password, email, trn_date) VALUES ('$username', '".md5($password)."', '$email', '$trn_date')";
        $result = mysqli_query($con,$query);
        if($result){
            echo "<div class='form'><h3>You are registered successfully.</h3><br/>Click here to <a href='login.php'>Login</a></div>";
        }
    }else{
?>
<div class="form">
<h1>Registration</h1>
<form name="registration" action="" method="post">
<input type="text" name="username" placeholder="Username" required />
<input type="email" name="email" placeholder="Email" required />
<input type="password" name="password" placeholder="Password" required />
<input type="submit" name="submit" value="Register" />
</form>
<br /><br />
<a href="http://www.allphptricks.com/simple-user-registration-login-script-in-php-and-mysqli/">Tutorial Link</a> <br /><br />
For More Web Development Tutorials Visit: <a href="http://www.allphptricks.com/">AllPHPTricks.com</a>
</div>
<?php } ?>
</body>
</html>


register.sql

-- phpMyAdmin SQL Dump
-- version 3.5.2.2
-- http://www.phpmyadmin.net
--
-- Host: 127.0.0.1
-- Generation Time: Jul 30, 2015 at 07:57 AM
-- Server version: 5.5.27
-- PHP Version: 5.4.7

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Database: `register`
--

-- --------------------------------------------------------

--
-- Table structure for table `users`
--

CREATE TABLE IF NOT EXISTS `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(50) NOT NULL,
  `email` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `trn_date` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=4 ;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;



--------------------------------------------------------------------


Assignment 4


db.php

<?php

$conn = new mysqli("localhost","root","","empinfo");
if (!$conn) {
	echo "dnfdbn";
}
?>

delete.php

<?php
include 'db.php';
if (isset($_GET['id'])) {
	$id = $_GET['id'];


	$del= "DELETE FROM todo where todo_id='$id'";

	if ($conn->query($del) === TRUE) {
		header('Location:view.php');
	}

}
?>


login.php

<?php
session_start();
include('db.php');

if ($_SERVER["REQUEST_METHOD"] == "POST") {

$email = $_POST["email"];
$passwd = $_POST["passwd"];




$sql ="SELECT * FROM empprofile where empemail='$email' and emppasswd='$passwd'";
$result = mysqli_query($conn,$sql);
$count = mysqli_num_rows($result);


if ($count==1) {
	
	$_SESSION['email'] = $email;
	$_SESSION['passwd'] = $passwd;
	header('location: welcome.php');
}else{
	$err = "Invalid Username And Password !";
	echo $err;
}

}

?>


<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
	<title>Employee Login</title>

</head>
<body>
	<form action="#" method="post">
		<h3> Login Here : </h3>
		<label for="email"> Email : </label> <br>
		<input type="text" name="email" placeholder="Enter Email Here"> <br>
		<label for="password"> Password : </label> <br>
		<input type="password" name="passwd" placeholder="Enter Password Here">
		<input type="submit" name="check"> <br>



	</form>

</body>
</html>


todo.php

<?php
session_start();

?>

<!DOCTYPE html>
<html>
<head>
	<title>to do</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<form action="#" method="post">
<h2> <?php echo "Welcome ".$_SESSION["email"]?> </h2><br>
Manager:<br>
<select name="manager"> 
<option> Select Manager </option>
<option value="m1"> M1 </option>
<option value="m2"> M2 </option>
<option value="m3"> M3 </option>
</select>

<br>
Work Assign:<br>
<select name="work_assign"> 
<option> Select Work</option>
<option value="Development"> Development </option>
<option value="Testing"> Testing</option>
<option value="Analysis"> Analysis </option>
<option value="Maintainance"> Maintainace </option>
</select><br>
Work Description:<br>
<input type="text" name="work_desc"><br>
Date:<br> 
<input type="date" name="today_date"><br><br>
<input type="submit" name="submit">


</form>
</body>
</html>

<?php
include('db.php');

if (isset($_POST["submit"])) {
$manager = $_POST["manager"];
$work_assign = $_POST["work_assign"];
$work_desc = $_POST["work_desc"];
$date = date('Y/m/d',strtotime($_POST['today_date']));
// echo $date;
$sql = "INSERT INTO todo (mana_name,work_assign,work_desc,todaydate)values('$manager','$work_assign','$work_desc','$date')";

if (mysqli_query($conn,$sql)) {
	echo "<br>Inserted Successfully";
	header('Location:view.php');
}
else{
	echo mysqli_error($conn);
}
}

?>

update.php

<?php
include 'db.php';
if(isset($_GET['id'])){
	$todo_id = $_GET['id'];
	$sql = "SELECT * FROM todo WHERE todo_id='$todo_id'";
	$result = mysqli_query($conn,$sql);
	$row = mysqli_fetch_array($result);
}


if (isset($_POST['update'])) {
	$todo_id = $_POST['todo_id'];
	$mana_name = $_POST['mana_name'];
	$work_desc = $_POST['work_desc'];
	$work_assign = $_POST['work_assign'];
	$date = date('Y/m/d',strtotime($_POST['todaydate']));


$sql = "UPDATE todo SET work_assign='$work_assign',work_desc='$work_desc',todaydate='$date' where todo_id='$todo_id'";

if (mysqli_query($conn,$sql)) {
	header('Location:view.php');
}
else{
	echo mysqli_error($conn);
}

}

?>

<!DOCTYPE html>
<html>
<body>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">


</head>
<form action="" method="post">
	Todo Id :<br>
	<input type="text" name="todo_id" value="<?php echo $row['todo_id'];?>" Readonly><br>
	Manager Name :<br>
	<input type="text" name="mana_name" value="<?php echo $row['mana_name'];?>" ><br>
	Work Assign:<br>
	<select name="work_assign"> 
	<option> Select Work</option>
	<option value="Development"> Development </option>
	<option value="Testing"> Testing</option>
	<option value="Analysis"> Analysis </option>
	<option value="Maintainance"> Maintainace </option> 
	</select><br>
	Date: <br>
	<input type="date" name="todaydate" ><br>

	Work Description :<br>
	<input type="text" name="work_desc" value="<?php echo $row['work_desc'];?>"><br>
	
	<input type="submit" name="update">


</form>

</body>
</html>


welcome.php


<?php
include('db.php');
session_start();


if (isset($_SESSION["email"])) {
	echo "<h2>Welcome " .$_SESSION["email"]."</h2>";
	$email = $_SESSION['email'];
	echo "<h3><a href='todo.php'> Insert Todo  </a>";
	echo "<br><a href='view.php'> View Todo </a>";
}else {
	echo "Please Login First And Start The Session ... <br>";
	echo "<a href='login.php'> Log in </a>" ;
}

?>


empinfo.sql

-- phpMyAdmin SQL Dump
-- version 4.9.0.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Sep 03, 2019 at 08:52 PM
-- Server version: 10.4.6-MariaDB
-- PHP Version: 7.3.8

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `empinfo`
--

-- --------------------------------------------------------

--
-- Table structure for table `empprofile`
--

CREATE TABLE `empprofile` (
  `empname` varchar(50) NOT NULL,
  `empemail` varchar(50) NOT NULL,
  `empcontact` varchar(50) NOT NULL,
  `empdesignation` varchar(50) NOT NULL,
  `empdepartment` varchar(50) NOT NULL,
  `gender` varchar(50) NOT NULL,
  `emppasswd` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `empprofile`
--

INSERT INTO `empprofile` (`empname`, `empemail`, `empcontact`, `empdesignation`, `empdepartment`, `gender`, `emppasswd`) VALUES
('Jemish', 'Jemish@gmail.com', '8561765185', 'Manager', 'testing', 'Male', 'qwer1234');

-- --------------------------------------------------------

--
-- Table structure for table `todo`
--

CREATE TABLE `todo` (
  `todo_id` int(10) NOT NULL,
  `mana_name` varchar(25) NOT NULL,
  `work_assign` varchar(25) NOT NULL,
  `work_desc` text NOT NULL,
  `todaydate` date NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `todo`
--

INSERT INTO `todo` (`todo_id`, `mana_name`, `work_assign`, `work_desc`, `todaydate`) VALUES
(1, 'm1', 'Select Work', 'cgmgnfc', '1970-01-01'),
(2, 'm2', 'Development', 'cxgfgszofngf', '1970-01-01'),
(3, 'm3', 'Analysis', 'fggfuhfdnffdij', '2019-09-05');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `empprofile`
--
ALTER TABLE `empprofile`
  ADD PRIMARY KEY (`empemail`);

--
-- Indexes for table `todo`
--
ALTER TABLE `todo`
  ADD PRIMARY KEY (`todo_id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `todo`
--
ALTER TABLE `todo`
  MODIFY `todo_id` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=4;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;







<html>
<head>
<script>
function showUser(str) {
    if (str == "") {
        document.getElementById("txtHint").innerHTML = "";
        return;
    } else {
        if (window.XMLHttpRequest) {
            // code for IE7+, Firefox, Chrome, Opera, Safari
            xmlhttp = new XMLHttpRequest();
        } else {
            // code for IE6, IE5
            xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
        }
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                document.getElementById("txtHint").innerHTML = this.responseText;
            }
        };
        xmlhttp.open("GET","getuser.php?q="+str,true);
        xmlhttp.send();
    }
}
</script>
</head>
<body>

<form>
<select name="users" onchange="showUser(this.value)">
  <option value="">Select a person:</option>
  <option value="1">Peter Griffin</option>
  <option value="2">Lois Griffin</option>
  <option value="3">Joseph Swanson</option>
  <option value="4">Glenn Quagmire</option>
  </select>
</form>
<br>
<div id="txtHint"><b>Person info will be listed here...</b></div>

</body>
</html>









<!DOCTYPE html>
<html>
<head>
<style>
table {
    width: 100%;
    border-collapse: collapse;
}

table, td, th {
    border: 1px solid black;
    padding: 5px;
}

th {text-align: left;}
</style>
</head>
<body>

<?php
$q = intval($_GET['q']);

$con = mysqli_connect('localhost','peter','abc123','my_db');
if (!$con) {
    die('Could not connect: ' . mysqli_error($con));
}

mysqli_select_db($con,"ajax_demo");
$sql="SELECT * FROM user WHERE id = '".$q."'";
$result = mysqli_query($con,$sql);

echo "<table>
<tr>
<th>Firstname</th>
<th>Lastname</th>
<th>Age</th>
<th>Hometown</th>
<th>Job</th>
</tr>";
while($row = mysqli_fetch_array($result)) {
    echo "<tr>";
    echo "<td>" . $row['FirstName'] . "</td>";
    echo "<td>" . $row['LastName'] . "</td>";
    echo "<td>" . $row['Age'] . "</td>";
    echo "<td>" . $row['Hometown'] . "</td>";
    echo "<td>" . $row['Job'] . "</td>";
    echo "</tr>";
}
echo "</table>";
mysqli_close($con);
?>
</body>
</html>